<!DOCTYPE html><html lang=en data-theme=solarized-dark><head><base href=https://elartedelcodigo.com/ ><title>Guides and tutorials - Installing Let's Encrypt SSL Certificates with Nginx on Debian</title><meta http-equiv=content-type content="text/html; charset=UTF-8"><meta http-equiv=X-UA-Compatible content=IE=edge><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=theme-color content=#1c1c1c><meta name=description content="How to issue SSL certificates with Let's Encrypt and configure them on Nginx servers to provide secure connections between client and server."><meta name=keywords content=install,cert,ssl><meta name=author content=Admin><meta property=og:title content="Installing Let's Encrypt SSL Certificates with Nginx on Debian"><meta property=og:description content="How to issue SSL certificates with Let's Encrypt and configure them on Nginx servers to provide secure connections between client and server."><meta property=og:image content=https://elartedelcodigo.com/static/assets/img/logo.png><meta property=og:url content=https://elartedelcodigo.com/en/nginx/instalacion-de-certificados-ssl-con-lets-encrypt-y-nginx-en-debian><meta property=og:site_name content="Guides and tutorials"><meta property=twitter:title content="Installing Let's Encrypt SSL Certificates with Nginx on Debian"><meta property=twitter:description content="How to issue SSL certificates with Let's Encrypt and configure them on Nginx servers to provide secure connections between client and server."><meta property=twitter:image content=https://elartedelcodigo.com/static/assets/img/logo.png><meta property=twitter:card content=summary><link rel=icon type=image/png sizes=32x32 href=./static/assets/favicon_32x32.png><link rel=icon type=image/png sizes=192x192 href=./static/assets/favicon_192x192.png><link rel=canonical href=https://elartedelcodigo.com/en/nginx/instalacion-de-certificados-ssl-con-lets-encrypt-y-nginx-en-debian><link rel=alternate hreflang=en href=https://elartedelcodigo.com/en/nginx/instalacion-de-certificados-ssl-con-lets-encrypt-y-nginx-en-debian><link rel=alternate hreflang=es href=https://elartedelcodigo.com/nginx/instalacion-de-certificados-ssl-con-lets-encrypt-y-nginx-en-debian><link rel=alternate hreflang=x-default href=https://elartedelcodigo.com/nginx/instalacion-de-certificados-ssl-con-lets-encrypt-y-nginx-en-debian><script>!function(){const t=document.getElementsByTagName("html")[0],e=window.localStorage.getItem("theme");e&&t.setAttribute("data-theme",e);const n=window.localStorage.getItem("lang");n&&n!==t.getAttribute("lang")&&(location.href=document.querySelector(`link[hreflang="${n}"]`).href)}();</script><style>@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap');</style><link rel="stylesheet" href="./static/resource-9d6539d5.css"></head><body><div class=_app-root><header class=_header><div class=_header-content><div class=app-header><ul class=left><li><a class="btn menu-item" href=./en/home><span class="icon icon-dark icon-home-solid"></span> Home</a></li><li><a class="btn menu-item" href=./en/search><span class="icon icon-dark icon-bolt-solid"></span> Show all</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/bash>Bash</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/docker>Docker</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/git>Git</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/markdown>Markdown</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/nginx>Nginx</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/node>Node</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/postgres>Postgres</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/ssh>SSH</a></li><li><a class="btn menu-item d-none d-xl-block" href=./en/utilitarios>Utilitarios</a></li></ul><ul class=right><li class="d-none d-sm-flex align-items-center"><form id=search-form class=d-flex data-url=./en/search><span class="icon icon-dark icon-search-solid"></span><input id=search-form-q type=text placeholder=Search></form></li><li><div id=switch-theme-button class="btn menu-item" title="Change theme"><span class="icon icon-dark icon-adjust-solid"></span></div></li><li><div id=switch-language-button class="btn menu-item" data-es-title="Show the English version" data-en-title="Show the Spanish version">Es</div></li></ul></div></div></header><article class=_body><div class=_body-content><div class=body-content><div class="container v2"><div class=row><div class="col-xl-2 d-none d-xl-block"><div class="sidenav-container sticky-top"><div id=sidenav><ul><li><a class=sidenav-item section-link=requirements>Requirements</a></li><li><a class=sidenav-item section-link=1-install-certbot>1. Install Certbot</a></li><li><a class=sidenav-item section-link=2-create-a-new-domain>2. Create a New Domain</a></li><li><a class=sidenav-item section-link=3-issue-the-ssl-certificate>3. Issue the SSL Certificate</a></li><li><a class=sidenav-item section-link=4-add-a-domain-to-an-existing-certificate>4. Add a Domain to an Existing Certificate</a></li><li><a class=sidenav-item section-link=5-remove-a-domain-from-a-certificate>5. Remove a Domain from a Certificate</a></li><li><a class=sidenav-item section-link=6-configure-automatic-renewal>6. Configure Automatic Renewal</a></li><li><a class=sidenav-item section-link=references>References</a></li></ul></div></div></div><div class=col-xl-8><div class="container py-md-5 py-sm-3 py-0"><div class=row><div class="col text-center"><p class="mt-3 mb-0"><a class=category-link href=./en/nginx title=Category>#nginx</a></p></div></div><div class=row><div id=mark class=col><div xmlns=http://www.w3.org/1999/xhtml><h1>Installing Let's Encrypt SSL Certificates with Nginx on Debian</h1><p>How to issue SSL certificates with <a href=https://letsencrypt.org>Let's Encrypt</a> and configure them on <a href=https://www.nginx.com>Nginx</a> servers to provide secure connections between client and server.</p><h2 id=requirements class=section>Requirements</h2><ul><li>Debian 9 (Stretch)</li><li>Nginx installed</li><li>A domain pointing to the server's IP address</li></ul><h2 id=1-install-certbot class=section>1. Install Certbot</h2><p>Edit the <code>sources.list</code> file.</p><pre class="language-bash cmd"><code>sudo nano /etc/apt/sources.list
</code></pre><p>Add the following lines to the end of the file.</p><pre class=language-bash><code>deb http://deb.debian.org/debian stretch-backports main contrib non-free
deb-src http://deb.debian.org/debian stretch-backports main contrib non-free
</code></pre><p>Example:</p><p class=pre-title>sources.list</p><pre class="language-bash line-numbers" data-line=5,6 data-title=sources.list><code>deb http://cdn-aws.deb.debian.org/debian stretch main
deb http://security.debian.org/debian-security stretch/updates main
deb http://cdn-aws.deb.debian.org/debian stretch-updates main

deb http://deb.debian.org/debian stretch-backports main contrib non-free
deb-src http://deb.debian.org/debian stretch-backports main contrib non-free
</code></pre><p>Update the package index.</p><pre class="language-bash cmd"><code>sudo apt update
</code></pre><p>Install Certbot from <code>stretch-backports</code>.</p><pre class="language-bash cmd"><code>sudo apt install python-certbot-nginx -t stretch-backports
</code></pre><p>Check the installed version.</p><pre class="language-bash cmd"><code>certbot --version
</code></pre><pre class="language-bash cmd-output"><code>certbot 0.28.0
</code></pre><h2 id=2-create-a-new-domain class=section>2. Create a New Domain</h2><p>Follow the guide <a href=./nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx>Create and Configure a New Domain with Nginx</a>. Once the site is available—e.g. <a href=http://your_domain.com>http://your_domain.com</a>—continue with Certbot.</p><h2 id=3-issue-the-ssl-certificate class=section>3. Issue the SSL Certificate</h2><p>List existing certificates.</p><pre class="language-bash cmd"><code>sudo ls -l /etc/letsencrypt/live
</code></pre><p>Create a new certificate.</p><pre class="language-bash cmd"><code>sudo certbot --nginx -d your_domain.com -d www.your_domain.com
</code></pre><pre class=cmd-output><code>Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
-------------------------------------------------------------------------------
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
-------------------------------------------------------------------------------
Select the appropriate number [1-2] then [enter] (press 'c' to cancel):
</code></pre><p>Choose option <code>2</code> so Certbot configures the redirects automatically, then press <code>Enter</code>.</p><p>Restart Nginx.</p><pre class="language-bash cmd"><code>sudo service nginx restart
</code></pre><p>Verify the site at <a href=https://your_domain.com>https://your_domain.com</a> or run:</p><pre class="language-bash cmd"><code>curl https://your_domain.com
</code></pre><pre class="language-html cmd-output"><code>&lt;html>
  &lt;head>
    &lt;title>Welcome to your_domain.com!&lt;/title>
  &lt;/head>
  &lt;body>
    &lt;h1>Success! The your_domain.com server block is working!&lt;/h1>
  &lt;/body>
&lt;/html>
</code></pre><h2 id=4-add-a-domain-to-an-existing-certificate class=section>4. Add a Domain to an Existing Certificate</h2><p>Include the subdomain <code>blog.your_domain.com</code> in an existing certificate.</p><pre class="language-bash cmd"><code>sudo certbot -d blog.your_domain.com --expand
</code></pre><p>Restart Nginx.</p><pre class="language-bash cmd"><code>sudo service nginx restart
</code></pre><h2 id=5-remove-a-domain-from-a-certificate class=section>5. Remove a Domain from a Certificate</h2><p>Delete the domain <code>blog.your_domain.com</code> from an existing certificate.</p><pre class="language-bash cmd"><code>sudo certbot delete --cert-name blog.your_domain.com
</code></pre><pre class="language-bash cmd-output"><code>Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Deleted all files relating to certificate blog.your_domain.com.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
</code></pre><p>Reconfigure the redirects in the Nginx config files manually.</p><pre class="language-bash cmd"><code>sudo nano /etc/nginx/sites-available/blog.your_domain.com
</code></pre><p>For instance, comment or remove the lines marked <code># managed by Certbot</code>. If needed, recreate the file with the default HTTP configuration.</p><p class=pre-title>blog.your_domain.com</p><pre class="language-bash line-numbers" data-line=8-13,16-18,22 data-title=blog.your_domain.com><code>server {
    root /var/www/blog.your_domain.com/html;
    index index.html index.htm index.nginx-debian.html;
    server_name blog.your_domain.com www.blog.your_domain.com;
    location / {
        try_files $uri $uri/ =404;
    }
    #listen [::]:443 ssl; # managed by Certbot
    #listen 443 ssl; # managed by Certbot
    #ssl_certificate /etc/letsencrypt/live/blog.your_domain.com/fullchain.pem; # managed by Certbot
    #ssl_certificate_key /etc/letsencrypt/live/blog.your_domain.com/privkey.pem; # managed by Certbot
    #include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    #ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}
server {
    #if ($host = blog.your_domain.com) {
    #    return 301 https://$host$request_uri;
    #} # managed by Certbot
    listen 80;
    listen [::]:80;
    server_name blog.your_domain.com www.blog.your_domain.com;
    #return 404; # managed by Certbot
}
</code></pre><p>Restart Nginx.</p><pre class="language-bash cmd"><code>sudo service nginx restart
</code></pre><h2 id=6-configure-automatic-renewal class=section>6. Configure Automatic Renewal</h2><p>Let's Encrypt certificates are valid for 90 days, so schedule renewals frequently.</p><p>Renew certificates manually.</p><pre class="language-bash cmd"><code>sudo certbot renew
</code></pre><pre class=cmd-output><code>Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/your_domain.com.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Cert not yet due for renewal

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

The following certs are not due for renewal yet:
  /etc/letsencrypt/live/your_domain.com/fullchain.pem expires on 2020-09-04 (skipped)
No renewals were attempted.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
</code></pre><p>Simulate the renewal process.</p><pre class="language-bash cmd"><code>sudo certbot renew --dry-run
</code></pre><pre class=cmd-output><code>...
Congratulations, all renewals succeeded. The following certs have been renewed:
  /etc/letsencrypt/live/yourdomain.com/fullchain.pem (success)
** DRY RUN: simulating 'certbot renew' close to cert expiry
**          (The test certificates above have not been saved.)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
</code></pre><p>Schedule the renewal with cron or a systemd timer.</p><pre class="language-bash cmd"><code>sudo certbot renew --quiet --no-self-upgrade
</code></pre><h2 id=references class=section>References</h2><ul><li><a href=https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-debian-9>How To Secure Nginx with Let's Encrypt on Debian 9</a></li><li><a href=https://medium.com/@mhagemann/correct-way-to-delete-a-certbot-ssl-certificate-e8ee123e6e01>Correct Way to Delete a Certbot SSL Certificate</a></li></ul></div></div></div><div class="row pt-5"><div class="col-12 py-5 text-right"><div class=tags-text><p><span class="icon icon-tags-solid" title=Tags></span>&nbsp; <a href=./en/search?q=install>install</a>&nbsp;<a href=./en/search?q=cert>cert</a>&nbsp;<a href=./en/search?q=ssl>ssl</a>&nbsp;</p></div></div><div class="col-12 py-1 text-left"><div class=published-text><p>Published: June 6, 2020</p></div></div></div></div></div></div></div><div id=to-top><div class=to-top-icon></div></div></div></div></article><footer class=_footer><div class=_footer-content><div class=app-footer><div class="container h-100"><div class="row d-flex align-items-center h-100"><div class="col text-center">Code licenced under <a href=https://oss.ninja/mit target=_blank title="Software License">MIT</a>, unless otherwise noted. <br><div class=copy>© 2025 <a href=https://github.com/ElArteDelCodigo title=https://github.com/ElArteDelCodigo>El arte del código</a> - Built with <a href=https://markojs.com target=_blank title=https://markojs.com>Marko JS</a></div><a href=https://elartedelcodigo.com/terms title=terms>Terms of Service</a> - <a href=https://elartedelcodigo.com/privacy title=privacy>Privacy Policy</a></div></div></div></div></div></footer></div><script src="./static/resource-c8a9a279.js"></script>
<script>$_mod.ready();</script></body></html>